/*
  To format, run ./gradlew spotlessApply. See other Spotless commands in the Gradle window.
  In addition to running with the `check` and `build` gradle tasks, this command can be added to a
  project's .git/hooks/pre-commit file to format before commits.
 */
spotless {
  encoding 'UTF-8'
  // optional: limit format enforcement to just the files 
  // changed by this feature branch
  ratchetFrom 'origin/main'

  format 'misc', {
    target '*.gradle'
    trimTrailingWhitespace()
    endWithNewline()
  }
  java {
    googleJavaFormat('1.15.0').reflowLongStrings()
    trimTrailingWhitespace()
	endWithNewline()
	removeUnusedImports()
  }
}

compileJava.dependsOn('spotlessCheck')